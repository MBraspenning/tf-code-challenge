(this["webpackJsonptf-code-challenge"]=this["webpackJsonptf-code-challenge"]||[]).push([[0],{113:function(e,t,a){},114:function(e,t,a){},167:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){"use strict";a.r(t);var n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"city"}],t=[{kind:"Literal",name:"config",value:{lang:"nl",units:"metric"}},{kind:"Variable",name:"name",variableName:"city"}],a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},l={alias:null,args:null,concreteType:"Weather",kind:"LinkedField",name:"weather",plural:!1,selections:[{alias:null,args:null,concreteType:"Summary",kind:"LinkedField",name:"summary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Temperature",kind:"LinkedField",name:"temperature",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"actual",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feelsLike",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Wind",kind:"LinkedField",name:"wind",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"speed",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Clouds",kind:"LinkedField",name:"clouds",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"all",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"humidity",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"AppWeatherQuery",selections:[{alias:null,args:t,concreteType:"City",kind:"LinkedField",name:"getCityByName",plural:!1,selections:[a,n,l],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"AppWeatherQuery",selections:[{alias:null,args:t,concreteType:"City",kind:"LinkedField",name:"getCityByName",plural:!1,selections:[a,n,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{cacheID:"fdcefdd7dce429c61328a1fe0ca78f51",id:null,metadata:{},name:"AppWeatherQuery",operationKind:"query",text:"query AppWeatherQuery(\n  $city: String!\n) {\n  getCityByName(name: $city, config: {units: metric, lang: nl}) {\n    name\n    country\n    weather {\n      summary {\n        title\n        description\n        icon\n      }\n      temperature {\n        actual\n        feelsLike\n        min\n        max\n      }\n      wind {\n        speed\n      }\n      clouds {\n        all\n        visibility\n        humidity\n      }\n    }\n    id\n  }\n}\n"}}}();n.hash="b7f36042775b546902520c09c1c12d98",t.default=n},183:function(e,t,a){"use strict";a.r(t);var n,l=a(2),i=a.n(l),s=a(104),r=a.n(s),c=(a(113),a(31)),u=(a(114),a(105)),d=a(24),o=a.n(d),m=a(40),j=a(5),y=function(){var e=Object(m.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://graphql-weather-api.herokuapp.com/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t.text,variables:a})});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(m.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(t,a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=new j.Environment({network:j.Network.create(b),store:new j.Store(new j.RecordSource)}),h=a(62);!function(e){e.SetCity="SetCity"}(n||(n={}));var v,g={city:"Antwerpen"},x=function(e,t){switch(t.type){case n.SetCity:return Object(h.a)(Object(h.a)({},e),{},{city:t.payload});default:return e}},O=i.a.createContext({}),f=a(107),C=a(106),k=(a(167),a(1)),N=function(){var e=Object(l.useContext)(O),t=e.state,a=e.dispatch,i=Object(l.useState)(t.city),s=Object(c.a)(i,2),r=s[0],u=s[1],d=function(){""!==r&&a({type:n.SetCity,payload:r})},o=function(){u("")};return Object(k.jsx)("div",{className:"user-input",children:Object(k.jsxs)("div",{className:"user-input_search",children:[Object(k.jsx)("input",{type:"text",value:r,onChange:function(e){return u(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&d(),"Escape"===e.key&&o()},autoFocus:!0,placeholder:"Enter a city","data-testid":"city-input",className:"user-input_text"}),Object(k.jsx)("button",{onClick:o,"data-testid":"city-clear",className:"user-input_clear user-input_button",children:Object(k.jsx)(C.a,{})}),Object(k.jsx)("button",{onClick:d,"data-testid":"city-submit",className:"user-input_submit user-input_button",children:Object(k.jsx)(f.a,{})})]})})},w=a(41),F=function(e){var t,a,n,l,i,s,r,c,u,d,o,m,j,y,b,p,h,v,g,x,O,f,C,N,w,F=e.data;return Object(k.jsxs)("div",{className:"result-valid",children:[Object(k.jsxs)("div",{className:"result-main",children:[Object(k.jsx)("h2",{className:"result-city","data-testid":"result-city",children:null===(t=F.getCityByName)||void 0===t?void 0:t.name}),Object(k.jsx)("span",{className:"result-description","data-testid":"result-description",children:null===(a=F.getCityByName)||void 0===a||null===(n=a.weather)||void 0===n||null===(l=n.summary)||void 0===l?void 0:l.description}),Object(k.jsxs)("span",{className:"result-actual","data-testid":"result-actual",children:[Math.round(null===(i=F.getCityByName)||void 0===i||null===(s=i.weather)||void 0===s||null===(r=s.temperature)||void 0===r?void 0:r.actual),"\xb0"]}),Object(k.jsxs)("div",{className:"result-min-max",children:[Object(k.jsxs)("span",{"data-testid":"result-max",children:["Max: ",Math.round(null===(c=F.getCityByName)||void 0===c||null===(u=c.weather)||void 0===u||null===(d=u.temperature)||void 0===d?void 0:d.max),"\xb0"]}),Object(k.jsxs)("span",{"data-testid":"result-min",children:["Min: ",Math.round(null===(o=F.getCityByName)||void 0===o||null===(m=o.weather)||void 0===m||null===(j=m.temperature)||void 0===j?void 0:j.min),"\xb0"]})]})]}),Object(k.jsxs)("div",{className:"result-details",children:[Object(k.jsxs)("div",{className:"result-details-row",children:[Object(k.jsxs)("div",{className:"result-detail",children:[Object(k.jsx)("span",{className:"result-detail-label",children:"Voelt als"}),Object(k.jsxs)("span",{"data-testid":"result-feels-like",className:"result-detail-value",children:[Math.round(null===(y=F.getCityByName)||void 0===y||null===(b=y.weather)||void 0===b||null===(p=b.temperature)||void 0===p?void 0:p.feelsLike),"\xb0"]})]}),Object(k.jsxs)("div",{className:"result-detail",children:[Object(k.jsx)("span",{className:"result-detail-label",children:"Wind"}),Object(k.jsxs)("span",{"data-testid":"result-wind",className:"result-detail-value",children:[Math.round(3.6*(null===(h=F.getCityByName)||void 0===h||null===(v=h.weather)||void 0===v||null===(g=v.wind)||void 0===g?void 0:g.speed))," km/u"]})]})]}),Object(k.jsxs)("div",{className:"result-details-row",children:[Object(k.jsxs)("div",{className:"result-detail",children:[Object(k.jsx)("span",{className:"result-detail-label",children:"Zicht"}),Object(k.jsxs)("span",{"data-testid":"result-visibility",className:"result-detail-value",children:[(null===(x=F.getCityByName)||void 0===x||null===(O=x.weather)||void 0===O||null===(f=O.clouds)||void 0===f?void 0:f.visibility)/1e3," km"]})]}),Object(k.jsxs)("div",{className:"result-detail",children:[Object(k.jsx)("span",{className:"result-detail-label",children:"Vochtigheid"}),Object(k.jsxs)("span",{"data-testid":"result-humidity",className:"result-detail-value",children:[null===(C=F.getCityByName)||void 0===C||null===(N=C.weather)||void 0===N||null===(w=N.clouds)||void 0===w?void 0:w.humidity,"%"]})]})]})]})]})},S=function(){return Object(k.jsxs)("div",{"data-testid":"result-invalid",className:"result-invalid",children:[Object(k.jsx)("p",{children:"Oops... It seems like the city you requested could not be found."}),Object(k.jsx)("p",{children:"Please try again"})]})},K=(a(179),function(e){var t=e.queryReference,a=Object(w.usePreloadedQuery)(q,t);return Object(k.jsx)("div",{className:"result-card",children:a.getCityByName?Object(k.jsx)(F,{data:a}):Object(k.jsx)(S,{})})}),B=(a(180),function(){return Object(k.jsx)("div",{className:"header",children:Object(k.jsx)("h1",{children:"Trusted Family Weather App"})})}),L=a(108),T=(a(181),function(){return Object(k.jsx)("div",{"data-testid":"loading-indicator",className:"loading-indicator",children:Object(k.jsx)(L.a,{})})}),M=i.a.Suspense,q=void 0!==v?v:v=a(182);function A(){var e=Object(w.useQueryLoader)(q),t=Object(c.a)(e,2),a=t[0],n=t[1],i=Object(l.useContext)(O).state;return Object(l.useEffect)((function(){n({city:i.city})}),[n,i.city]),Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(B,{}),Object(k.jsx)(N,{}),Object(k.jsx)("div",{className:"result-container",children:Object(k.jsx)(M,{fallback:Object(k.jsx)(T,{}),children:a&&Object(k.jsx)(K,{queryReference:a})})}),Object(k.jsx)("svg",{className:"background-blob blob-1",viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",children:Object(k.jsx)("path",{d:"M31.7,-45.6C43.6,-41.7,57.5,-37.1,61.3,-28.2C65.1,-19.2,59,-5.8,56.9,8.1C54.8,22,56.7,36.4,51,45.9C45.4,55.4,32.2,59.9,18.6,64.3C5.1,68.7,-8.8,72.9,-21.2,70.2C-33.7,67.5,-44.7,57.9,-50,46.3C-55.3,34.8,-55,21.3,-58.6,7.4C-62.3,-6.6,-69.9,-21,-68.5,-34.2C-67,-47.4,-56.4,-59.3,-43.5,-62.7C-30.5,-66,-15.3,-60.8,-2.7,-56.6C9.9,-52.5,19.8,-49.4,31.7,-45.6Z",transform:"translate(100 100)"})}),Object(k.jsx)("svg",{className:"background-blob blob-2",viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",children:Object(k.jsx)("path",{d:"M48.7,-73C61.5,-67.6,69,-51.3,76.2,-35C83.5,-18.6,90.4,-2.3,87.2,11.8C84,25.9,70.7,37.8,57.9,47.3C45.2,56.8,33,63.9,18.8,71.4C4.6,78.9,-11.6,86.9,-24.1,82.9C-36.6,78.8,-45.3,62.8,-54,48.9C-62.6,35,-71.3,23.3,-75,9.7C-78.7,-3.9,-77.4,-19.4,-71.2,-32.3C-65,-45.3,-53.8,-55.8,-41.1,-61.3C-28.4,-66.7,-14.2,-67.1,1.9,-70.1C18,-73,36,-78.5,48.7,-73Z",transform:"translate(100 100)"})}),Object(k.jsx)("svg",{className:"background-blob blob-3",viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",children:Object(k.jsx)("path",{d:"M50,-56.7C62.3,-49.3,67.9,-31.1,70.9,-12.7C73.8,5.6,74,24.2,66,38.2C58.1,52.1,41.9,61.4,24.2,68.9C6.5,76.3,-12.7,81.9,-26.6,75.7C-40.5,69.5,-49.1,51.4,-54.3,35C-59.4,18.5,-61.2,3.7,-61.9,-14.2C-62.6,-32.1,-62.4,-53,-51.9,-60.8C-41.4,-68.5,-20.7,-63.1,-0.9,-62C18.9,-60.9,37.7,-64.2,50,-56.7Z",transform:"translate(100 100)"})})]})}var W=function(){var e=Object(l.useReducer)(x,g),t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(k.jsx)(u.RelayEnvironmentProvider,{environment:p,children:Object(k.jsx)(O.Provider,{value:{state:a,dispatch:n},children:Object(k.jsx)(A,{})})})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,184)).then((function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),l(e),i(e),s(e)}))};r.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(W,{})}),document.getElementById("root")),E()}},[[183,1,2]]]);
//# sourceMappingURL=main.d9892346.chunk.js.map